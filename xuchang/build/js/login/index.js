"use strict";define(["jquery"],function(a){var i=window.localStorage;a("button").on("click",function(){var t=a(".text").val().trim(),e=a(".pwd").val().trim(),s="";if(""==t||""==e)s="用户名或密码不能为空";else{/^1[34578]\d{9}$/.test(t)||/^\w+@\w+\.[com|cn|net]$/.test(t)||(s="用户名格式有误");if(/[^a-z0-9]/i.test(e)||e.length<5||10<e.length)s="密码格式有误";else{(/^\d{5,10}$/.test(e)||/^[a-z]{5,10}$/i.test(e))&&(s="密码格式有误")}}s?a(".tip").html(s):a(this).hasClass("log")?a.ajax({url:"/api/login",type:"post",data:{user:t,pwd:e},dataType:"json",success:function(t){t.code?(i.setItem("userdata",1),history.go(-1)):alert(t.msg)}}):a.ajax({url:"/api/reglogin",type:"post",data:{user:t,pwd:e},dataType:"json",success:function(t){alert(t.msg)}})}),a(".eye").on("click",function(){a(this).toggleClass("active"),a(this).hasClass("active")?a(".pwd").attr("type","text"):a(".pwd").attr("type","password")})});